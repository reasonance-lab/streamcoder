import streamlit as st

def calculate_budget():
    st.title("Weekly Budget Calculator")

    # Income input
    income = st.number_input("Enter your weekly income:", min_value=0.0, step=10.0)

    # Expense categories
    categories = ["Rent/Mortgage", "Utilities", "Groceries", "Transportation", "Entertainment", "Savings", "Other"]
    expenses = {}

    # Expense inputs
    for category in categories:
        expenses[category] = st.number_input(f"Enter {category} expense:", min_value=0.0, step=5.0)

    # Calculate total expenses and remaining budget
    total_expenses = sum(expenses.values())
    remaining_budget = income - total_expenses

    # Display results
    st.subheader("Budget Summary")
    st.write(f"Total Income: ${income:.2f}")
    st.write(f"Total Expenses: ${total_expenses:.2f}")
    st.write(f"Remaining Budget: ${remaining_budget:.2f}")

    # Display expense breakdown
    st.subheader("Expense Breakdown")
    for category, amount in expenses.items():
        st.write(f"{category}: ${amount:.2f}")

    # Visualize expense breakdown with a pie chart
    if total_expenses > 0:
        st.subheader("Expense Distribution")
        st.pie(expenses.values(), labels=expenses.keys(), autopct='%1.1f%%')

if __name__ == "__main__":
    calculate_budget()